<ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-buttons slot="end" >
      <ion-button style="color: white;" (click)="dismissModal()">
        <ion-icon name="close"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>


<ion-content [fullscreen]="true" class="ion-padding" style="display: flex; flex-direction: column;">

  <input style="position: absolute; top: -100px;" type='file' accept="image/*" #imgInput (change)="loadImg($event)"/>

  <div class="card-text">
    <div class="profile-img" *ngIf="this.profilePic == null">
      <ion-fab-button color="success" style="z-index: 5; size: 50px; position: relative; left: 2px; top: 130px;" (click)="selectImg()">
        <ion-icon name="camera"></ion-icon>
      </ion-fab-button>
    </div>
    <div *ngIf="this.profilePic != null" class="profile-img">
      <ion-avatar style="height: 170px; width: 170px; --border-radius: 40%;">
        <img id='showImg' [src]="profilePic"/>
      </ion-avatar>
      <ion-fab-button color="success" style="z-index: 5; size: 50px; position: absolute; left: 2px; top: 130px;" (click)="selectImg()">
        <ion-icon name="camera"></ion-icon>
      </ion-fab-button>
    </div>


  </div>

  <div class="inputs" style="margin-top: 80px; display: flex; align-items: center; justify-content: center; width: 100%; flex-direction: column;">
    <ion-item  style="margin-bottom: 30px;">
      <ion-label  style="font-size: 18px;" position="floating">username</ion-label>
      <ion-input (ionChange)="checkIfUsernameExists(newUsername)" [(ngModel)]="newUsername"></ion-input>
    </ion-item>
    <ion-item >
      <ion-label style="font-size: 18px;" position="floating">Tell us about yourself</ion-label>
      <ion-input [(ngModel)]='bio'></ion-input>
    </ion-item>
  </div>

  <ion-fab-button color="success" (click)="updateProfile()" slot="fixed" style="position: fixed; bottom: 10px; right: 10px;">
    <fa-icon icon="check"></fa-icon>
  </ion-fab-button>

</ion-content>
