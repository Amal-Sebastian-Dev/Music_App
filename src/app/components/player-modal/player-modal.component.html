<ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-buttons slot="end" >
      <ion-button style="color: #ff28e9;" (click)="dismissModal()">
        <ion-icon name="close"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">

  <div class="input-section">
    <div class="webflow-style-input">
      <input [(ngModel)]="songName" class="" type="text" placeholder="SONG NAME" >
    </div>

    <ion-item>
      <ion-label>How about some tags?</ion-label>
      <ion-select multiple="true" [(ngModel)]="selectedTags" (ionChange)="checkTagSelection()" placeholder="Please select" cancelText="cancel" okText="Okay">
        <ion-select-option *ngFor="let tag of tags" value={{tag}}>{{tag}}</ion-select-option>
      </ion-select>
    </ion-item>
  </div>

  <input style="position: absolute; top: -100px;" type='file' accept="image/*" #imgInput (change)="loadImg($event)"/>


  <div class="card-text">
    <div class="card-img" *ngIf="profilePic == null || profilePic == ''">
      <ion-fab-button color="success" style="z-index: 5; size: 50px; position: relative; left: -15px; top: 190px;" (click)="selectImg()">
        <ion-icon name="camera"></ion-icon>
      </ion-fab-button>
    </div>
    <div *ngIf="profilePic != null" class="profile-img">
      <ion-avatar style="height: 225px; width: 300px; --border-radius: 6%;">
        <img id='showImg' [src]="profilePic"/>
      </ion-avatar>
      <ion-fab-button color="success" style="z-index: 5; size: 50px; position: absolute; left: -15px; top: 190px;" (click)="selectImg()">
        <ion-icon name="camera"></ion-icon>
      </ion-fab-button>
    </div>
  </div>

  <ion-slides [options]='slideOptions'>
    <ion-slide style="display: flex; flex-direction: column; margin-left: 10px; text-align: center;" *ngFor='let filter of filters'>
      <ion-card style="--background: white;  width: 50px; height: 50px; margin-bottom: -10px;">

      </ion-card>
      <p style="color: #889bc7; max-width: 70px; font-size: 15px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{{filter.name}}</p>
    </ion-slide>
  </ion-slides>

  <ion-fab-button color="success" (click)="uploadFile()" slot="fixed" style="position: fixed; z-index: 15; bottom: 10px; right: 10px;">
    <fa-icon icon="check"></fa-icon>
  </ion-fab-button>

  <div class='container ion-text-center'>
    <ion-range style='position: relative; top: 20px;' (touchend)='changePosition()' (mouseup)='changePosition()' (click)='changePosition()' min='0' [max]='audioDuration' [(ngModel)]='currentPosition' value='40' color='success'></ion-range>
    <p style="color: #889bc7;">{{restTime}}</p>
    <ion-button (click)='playPause()' style="color: #ff28e9;" fill='clear'>
      <ion-icon slot='icon-only' [name]='playIcon'></ion-icon>
    </ion-button>
  </div>

</ion-content>
