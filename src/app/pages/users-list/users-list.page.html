<ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button  style="color: #ff28e9;" icon="chevron-back"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">

  <ion-spinner style="width: 40px; height: 40px; position: absolute; left: 50%; top: 50%; transform: translate(-40%, -50%);" *ngIf="users.length <= 0" name="crescent" color='secondary'></ion-spinner>

  <ion-list *ngIf="users != null" style="width: 100%; height: 100%; background: none; overflow-y: scroll; padding-left: 10px; padding-right: 10px;">
    <ion-item *ngFor="let user of users; let i = index" lines='none' style="--background: none; border-width: 2px; border-style: solid; border-color: #633fb3; border-radius: 10px; margin-bottom: 2px;" >
      <ion-thumbnail (click)="viewProfile(user.uid)" slot="start">
        <img style="border-radius: 20px" src={{user.profilePic}}/>
      </ion-thumbnail>
      <ion-label class="username" (click)="viewProfile(user.uid)">
        <h2 style="color: white; width: 100%; text-overflow: ellipsis;">{{user.username}}</h2>
      </ion-label>
      <button (click)="subscribe(user.uid, i)" slot="end" *ngIf="user.subscribed == false && uid != user.uid">subscribe</button>
      <button (click)="unsubscribe(user.uid, i)" slot="end" *ngIf="user.subscribed == true && uid != user.uid">unsubscribe</button>
    </ion-item>

    <div *ngIf="moreUsersAvailable == true" style="width: 100%;">
      <p style=" color: white; font-size: 13px; position: relative; left: 35%; transform: translateX(0%);" (click)="loadMoreUsers()">more comments</p>
    </div>

    <div style="width: 100%; height: 140px;">

    </div>
  </ion-list>



</ion-content>
